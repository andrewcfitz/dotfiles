# Set the default terminal to support 256 colors and true color
set -g default-terminal "tmux-256color"

# Enable true color (RGB) support for various terminal types
# terminal-overrides tells tmux what the OUTER terminal supports
set -ag terminal-overrides ",xterm-256color:RGB"
set -ag terminal-overrides ",*-256color:RGB"

# Add Tc (True Color) flag for applications that check for it
set -ag terminal-overrides ",xterm-256color:Tc"
set -ag terminal-overrides ",*-256color:Tc"

# Mouse support
set -g mouse on

# Tmux clipboard
set -s set-clipboard on

# Ctrl+K clears screen and tmux scrollback (preserves iTerm2 scrollback)
bind-key -n C-k send-keys -R C-l \; clear-history

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'dracula/tmux'

# Dracula theme options
set -g @dracula-show-powerline true
set -g @dracula-plugins "cpu-usage ram-usage"
set -g @dracula-show-left-icon session

# Initialize TPM (keep this line at the very bottom)
run '~/.tmux/plugins/tpm/tpm'
